# –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: –í–∫–ª–∞–¥–∫–∞ "–ö–ª—É–±"

**–¢–∏–∫–µ—Ç**: T-005
**PRD**: `docs/prd/T-005.prd.md`
**–ê–≤—Ç–æ—Ä**: Andrej
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 2026-02-12
**–°—Ç–∞—Ç—É—Å**: PLAN_APPROVED

## –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–∏ "–ö–ª—É–±" —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø–æ–∫—É–ø–∫–∏ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞ (2990‚ÇΩ) –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è 4 –∫–∞—Ä—Ç–æ—á–µ–∫ –≤—Å—Ç—Ä–µ—á –Ω–∞ –±–ª–∏–∂–∞–π—à–∏–µ 4 –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å—è –≤ 17:00. –§—Ä–æ–Ω—Ç–µ–Ω–¥ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –¥–∞—Ç—ã –≤–æ—Å–∫—Ä–µ—Å–µ–Ω–∏–π, —á–∏—Ç–∞–µ—Ç club.json –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤—Å—Ç—Ä–µ—á.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

### –û–±–∑–æ—Ä

1. **UI**: –ù–æ–≤—ã–π —Ç–∞–± "–ö–ª—É–±" –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (4-–π —Ç–∞–±)
2. **–î–∞–Ω–Ω—ã–µ**: –ù–æ–≤—ã–π —Ñ–∞–π–ª `club.json` (–∞–Ω–∞–ª–æ–≥ `slots.json`) —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–ª–∞—Ç–µ–∂–∞—Ö
3. **–õ–æ–≥–∏–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞**:
   - –£–±–∏—Ä–∞–µ–º –∫–∞—Ä—Ç–æ—á–∫—É "–í—Å—Ç—É–ø–∏—Ç—å –≤ –∫–ª—É–±" –∏–∑ –≤–∫–ª–∞–¥–∫–∏ "–£—Å–ª—É–≥–∏"
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –µ—ë –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ "–ö–ª—É–±"
   - –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã —á–µ—Ä–µ–∑ YooKassa (—Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è) –∑–∞–≥—Ä—É–∂–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π `club.json`
   - –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º 4 –±–ª–∏–∂–∞–π—à–∏—Ö –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å—è —Å –ø–æ–º–æ—â—å—é JavaScript Date API
   - –°–æ–∑–¥–∞—ë–º 4 –∫–∞—Ä—Ç–æ—á–∫–∏ –≤—Å—Ç—Ä–µ—á —Å –æ–¥–Ω–æ–π –æ–±—â–µ–π Zoom-—Å—Å—ã–ª–∫–æ–π
4. **Backend (Make.com)**: –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã –æ–±–Ω–æ–≤–ª—è–µ—Ç `club.json` (–¥–æ–±–∞–≤–ª—è–µ—Ç –∑–∞–ø–∏—Å—å —Å user_id, payment_id, paid_at, zoom_link)

## –ó–∞—Ç—Ä–∞–≥–∏–≤–∞–µ–º—ã–µ —Ñ–∞–π–ª—ã

### –ò–∑–º–µ–Ω—è–µ–º—ã–µ —Ñ–∞–π–ª—ã

**Frontend**:

- **index.html**
  - –ß—Ç–æ –∏–∑–º–µ–Ω–∏–º: –î–æ–±–∞–≤–∏—Ç—å 4-–π —Ç–∞–± "–ö–ª—É–±" –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏—é (—Å—Ç—Ä–æ–∫–∏ 96-123)
  - –ù–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã: button.tab-btn[data-tab="club"] —Å –∏–∫–æ–Ω–∫–æ–π –≥—Ä—É–ø–ø—ã –ª—é–¥–µ–π
  - –í—Å—Ç–∞–≤–∏—Ç—å –ø–æ—Å–ª–µ —Ç–∞–±–∞ "–£—Å–ª—É–≥–∏" 

- **app.js**
  - –ß—Ç–æ –∏–∑–º–µ–Ω–∏–º:
    1. –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `renderClubScreen()` - —Ä–µ–Ω–¥–µ—Ä–∏—Ç –≤–∫–ª–∞–¥–∫—É "–ö–ª—É–±"
    2. –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `getNextSundays(startDate, count)` - —Ä–∞—Å—á–µ—Ç –≤–æ—Å–∫—Ä–µ—Å–µ–Ω–∏–π
    3. –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `loadClubData()` - –∑–∞–≥—Ä—É–∑–∫–∞ club.json
    4. –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `renderClubMeetingCard(date, time, zoomLink)` - –∫–∞—Ä—Ç–æ—á–∫–∞ –≤—Å—Ç—Ä–µ—á–∏
    5. –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `handleClubPayment()` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ–ø–ª–∞—Ç—ã –∫–ª—É–±–∞
    6. –û–±–Ω–æ–≤–∏—Ç—å `switchTab()` - –¥–æ–±–∞–≤–∏—Ç—å case 'club'
    7. –û–±–Ω–æ–≤–∏—Ç—å `renderServicesScreen()` - —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å club_info (—É–±—Ä–∞—Ç—å –∏–∑ –≤–∫–ª–∞–¥–∫–∏ "–£—Å–ª—É–≥–∏")
    8. –î–æ–±–∞–≤–∏—Ç—å –≤ State –Ω–æ–≤—ã–µ –ø–æ–ª—è: clubPayments, isLoadingClub

- **config.js**
  - –ß—Ç–æ –¥–æ–±–∞–≤–∏–º:
    - CLUB_PRICE: 2990
    - CLUB_MEETINGS_COUNT: 4
    - CLUB_MEETING_TIME: '17:00'
    - CLUB_JSON_URL

- **styles.css**
  - –ß—Ç–æ –∏–∑–º–µ–Ω–∏–º: –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å—Ç–∏–ª–∏ (.service-card, .glass-card)
  - –í–æ–∑–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å: .club-header –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–∞

**Backend (Make.com)**:

- –û–±–Ω–æ–≤–∏—Ç—å webhook YooKassa –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–ª–∞—Ç–µ–∂–µ–π –∫–ª—É–±–∞
- –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã: –æ–±–Ω–æ–≤–∏—Ç—å club.json

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**:

- –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª club.json –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã

- **club.json** (–≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞):
  ```json
  {
    "generated_at": "2026-02-12T12:00:00Z",
    "zoom_link": "https://zoom.us/j/CLUB_LINK",
    "payments": []
  }
  ```

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏

### Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### –§—É–Ω–∫—Ü–∏—è 1: `getNextSundays(startDate, count = 4)`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ N –≤–æ—Å–∫—Ä–µ—Å–µ–Ω–∏–π –Ω–∞—á–∏–Ω–∞—è —Å —É–∫–∞–∑–∞–Ω–Ω–æ–π –¥–∞—Ç—ã

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
- `startDate` (Date): –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –æ—Ç—Å—á–µ—Ç–∞
- `count` (number): –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω–∏–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 4)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `Date[]` - –ú–∞—Å—Å–∏–≤ –¥–∞—Ç –≤–æ—Å–∫—Ä–µ—Å–µ–Ω–∏–π

**–õ–æ–≥–∏–∫–∞**:
1. –ö–ª–æ–Ω–∏—Ä—É–µ–º startDate
2. –ù–∞—Ö–æ–¥–∏–º –±–ª–∏–∂–∞–π—à–µ–µ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ (–¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏ 0)
3. –î–æ–±–∞–≤–ª—è–µ–º –≤ –º–∞—Å—Å–∏–≤
4. –î–æ–±–∞–≤–ª—è–µ–º +7 –¥–Ω–µ–π –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å—è
5. –ü–æ–≤—Ç–æ—Ä—è–µ–º count —Ä–∞–∑

**–ü—Ä–∏–º–µ—Ä**:
```javascript
const sundays = getNextSundays(new Date(), 4);
// => [Date(2026-02-16), Date(2026-02-23), ...]
```

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**:
- –ï—Å–ª–∏ startDate –Ω–µ–≤–∞–ª–∏–¥–Ω–∞: –ª–æ–≥–∏—Ä—É–µ–º –æ—à–∏–±–∫—É, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤
- –ï—Å–ª–∏ count < 1: –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤

---

#### –§—É–Ω–∫—Ü–∏—è 2: `loadClubData()`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ó–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ –ø–ª–∞—Ç–µ–∂–∞—Ö –∫–ª—É–±–∞ –∏–∑ club.json

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: –Ω–µ—Ç

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `Promise<void>`

**–õ–æ–≥–∏–∫–∞**:
1. –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–µ—à (CacheManager.get('club_data'))
2. –ï—Å–ª–∏ –∫–µ—à —Å–≤–µ–∂–∏–π - –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ–≥–æ
3. –ò–Ω–∞—á–µ –¥–µ–ª–∞–µ–º fetch –∫ CONFIG.CLUB_JSON_URL
4. –ü–∞—Ä—Å–∏–º JSON
5. –§–∏–ª—å—Ç—Ä—É–µ–º payments –ø–æ —Ç–µ–∫—É—â–µ–º—É user_id
6. –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ State.clubPayments
7. –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –∫–µ—à (TTL 60 —Å–µ–∫—É–Ω–¥)

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**:
- –°–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞: –ø–æ–∫–∞–∑—ã–≤–∞–µ–º toast "–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∫–ª—É–±–∞"
- JSON parsing error: –ª–æ–≥–∏—Ä—É–µ–º –æ—à–∏–±–∫—É, State.clubPayments = []

---

#### –§—É–Ω–∫—Ü–∏—è 3: `renderClubScreen()`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –†–µ–Ω–¥–µ—Ä–∏—Ç –≤–∫–ª–∞–¥–∫—É "–ö–ª—É–±"

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: –Ω–µ—Ç

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: void

**–õ–æ–≥–∏–∫–∞**:
1. –ü—Ä–æ–≤–µ—Ä—è–µ–º State.isLoadingClub - –µ—Å–ª–∏ true, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º loader
2. –ü—Ä–æ–≤–µ—Ä—è–µ–º State.clubPayments - –µ—Å—Ç—å –ª–∏ –ø–ª–∞—Ç–µ–∂–∏?
3. –ï—Å–ª–∏ –Ω–µ—Ç - —Ä–µ–Ω–¥–µ—Ä–∏–º –∫–∞—Ä—Ç–æ—á–∫—É "–í—Å—Ç—É–ø–∏—Ç—å –≤ –∫–ª—É–±"
4. –ï—Å–ª–∏ –µ—Å—Ç—å - —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å—è, —Ñ–∏–ª—å—Ç—Ä—É–µ–º –ø—Ä–æ—à–µ–¥—à–∏–µ, —Ä–µ–Ω–¥–µ—Ä–∏–º –∫–∞—Ä—Ç–æ—á–∫–∏ –≤—Å—Ç—Ä–µ—á
5. –ï—Å–ª–∏ –≤—Å–µ –≤—Å—Ç—Ä–µ—á–∏ –ø—Ä–æ—à–ª–∏ - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É "–ö—É–ø–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–π –∞–±–æ–Ω–µ–º–µ–Ω—Ç"

**HTML —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** (–±—É–¥–µ—Ç –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –±–µ–∑ innerHTML –≤ –ø–ª–∞–Ω–µ):
- –ó–∞–≥–æ–ª–æ–≤–æ–∫ "–í—Å—Ç—Ä–µ—á–∏ –∫–ª—É–±–∞ - –∫–∞–∂–¥–æ–µ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ –≤ 17:00"
- –õ–∏–±–æ –∫–∞—Ä—Ç–æ—á–∫–∞ "–í—Å—Ç—É–ø–∏—Ç—å –≤ –∫–ª—É–±" (–µ—Å–ª–∏ –Ω–µ –∫—É–ø–ª–µ–Ω –∞–±–æ–Ω–µ–º–µ–Ω—Ç)
- –õ–∏–±–æ –∫–∞—Ä—Ç–æ—á–∫–∏ –≤—Å—Ç—Ä–µ—á (–µ—Å–ª–∏ –∫—É–ø–ª–µ–Ω)

---

#### –§—É–Ω–∫—Ü–∏—è 4: `renderClubMeetingCard(meeting)`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –†–µ–Ω–¥–µ—Ä–∏—Ç –∫–∞—Ä—Ç–æ—á–∫—É –≤—Å—Ç—Ä–µ—á–∏ –∫–ª—É–±–∞

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
- `meeting` (Object): { date, time, zoomLink }

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `string` - HTML –∫–∞—Ä—Ç–æ—á–∫–∏

**–õ–æ–≥–∏–∫–∞**:
1. –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –¥–∞—Ç—É: "–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ, 16 —Ñ–µ–≤—Ä–∞–ª—è"
2. –†–µ–Ω–¥–µ—Ä–∏–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–∞—Ä—Ç–æ—á–∫–∏
3. –î–æ–±–∞–≤–ª—è–µ–º –∏–∫–æ–Ω–∫—É üìÖ
4. –î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É "–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è" —Å Zoom-—Å—Å—ã–ª–∫–æ–π

---

#### –§—É–Ω–∫—Ü–∏—è 5: `handleClubPayment()`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–ø–ª–∞—Ç—É –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞ –∫–ª—É–±–∞

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: –Ω–µ—Ç

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `Promise<void>`

**–õ–æ–≥–∏–∫–∞**:
1. HapticFeedback.selectionChanged()
2. –ü–æ–∫–∞–∑—ã–≤–∞–µ–º loader "–°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞..."
3. –î–µ–ª–∞–µ–º –∑–∞–ø—Ä–æ—Å –∫ Make.com –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è YooKassa payment (service_id: 'club', amount: 2990)
4. –ü–æ–ª—É—á–∞–µ–º payment_url
5. –û—Ç–∫—Ä—ã–≤–∞–µ–º payment_url —á–µ—Ä–µ–∑ Telegram.WebApp.openLink()
6. –ü–æ—Å–ª–µ –≤–æ–∑–≤—Ä–∞—Ç–∞: –æ–ø—Ä–∞—à–∏–≤–∞–µ–º club.json –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã (–º–∞–∫—Å 30 —Å–µ–∫)
7. –ü–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏–≤–∞–µ–º —ç–∫—Ä–∞–Ω
8. HapticFeedback.notificationOccurred('success')

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**:
- –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞—Ç–µ–∂–∞: toast "–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –ø–ª–∞—Ç–µ–∂"
- Timeout: toast "–û–ø–ª–∞—Ç–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –º–∏–Ω—É—Ç—É."
- HapticFeedback.notificationOccurred('error')

---

#### –§—É–Ω–∫—Ü–∏—è 6: `openZoomLink(zoomLink)`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û—Ç–∫—Ä—ã–≤–∞–µ—Ç Zoom-—Å—Å—ã–ª–∫—É

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
- `zoomLink` (string): URL Zoom-–≤—Å—Ç—Ä–µ—á–∏

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: void

**–õ–æ–≥–∏–∫–∞**:
1. HapticFeedback.impactOccurred('light')
2. Telegram.WebApp.openLink(zoomLink)

---

### Backend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (Make.com)

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ webhook YooKassa**:

1. –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏—è `payment.succeeded`:
   - –ü—Ä–æ–≤–µ—Ä—è–µ–º metadata.service_id
   - –ï—Å–ª–∏ service_id === 'club':
     - –ß–∏—Ç–∞–µ–º —Ç–µ–∫—É—â–∏–π club.json
     - –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å –≤ payments
     - –ó–∞–ø–∏—Å—ã–≤–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π club.json –Ω–∞ GitHub

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø–∏—Å–∏ payment**:
```json
{
  "user_id": 123456,
  "payment_id": "yookassa_payment_abc",
  "paid_at": "2026-02-12T14:00:00Z",
  "sundays_count": 4,
  "zoom_link": "https://zoom.us/j/CLUB_LINK"
}
```

---

## –ü–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö

### –û—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫ (Happy Path)

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –≤–∫–ª–∞–¥–∫—É "–ö–ª—É–±"
   ‚Üì
2. Frontend: switchTab('club') ‚Üí loadClubData() ‚Üí renderClubScreen()
   ‚Üì
3. API –∑–∞–ø—Ä–æ—Å: fetch(CONFIG.CLUB_JSON_URL)
   ‚Üì
4. –û—Ç–≤–µ—Ç: { generated_at, zoom_link, payments }
   ‚Üì
5. Frontend: —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç payments –ø–æ user_id
   - –ï—Å–ª–∏ payments.length === 0: –∫–∞—Ä—Ç–æ—á–∫–∞ "–í—Å—Ç—É–ø–∏—Ç—å –≤ –∫–ª—É–±"
   - –ï—Å–ª–∏ payments.length > 0: –∫–∞—Ä—Ç–æ—á–∫–∏ –≤—Å—Ç—Ä–µ—á
   ‚Üì
6. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–ª–∏–∫–∞–µ—Ç "–ö—É–ø–∏—Ç—å –∞–±–æ–Ω–µ–º–µ–Ω—Ç"
   ‚Üì
7. Frontend: handleClubPayment() ‚Üí —Å–æ–∑–¥–∞–µ—Ç payment ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç YooKassa
   ‚Üì
8. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç 2990‚ÇΩ
   ‚Üì
9. YooKassa ‚Üí Make.com webhook: payment.succeeded
   ‚Üì
10. Make.com: –æ–±–Ω–æ–≤–ª—è–µ—Ç club.json
    ‚Üì
11. Frontend: –æ–ø—Ä–∞—à–∏–≤–∞–µ—Ç club.json (–∫–∞–∂–¥—ã–µ 2 —Å–µ–∫, –º–∞–∫—Å 30 —Å–µ–∫)
    ‚Üì
12. Frontend: –Ω–∞—Ö–æ–¥–∏—Ç –Ω–æ–≤—ã–π payment ‚Üí —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å—è ‚Üí —Å–æ–∑–¥–∞—ë—Ç –∫–∞—Ä—Ç–æ—á–∫–∏
    ‚Üì
13. –†–µ–∑—É–ª—å—Ç–∞—Ç: 4 –∫–∞—Ä—Ç–æ—á–∫–∏ –≤—Å—Ç—Ä–µ—á —Å –∫–Ω–æ–ø–∫–∞–º–∏ "–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Zoom"

---

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø–æ—Ç–æ–∫: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –∫—É–ø–∏–ª –∞–±–æ–Ω–µ–º–µ–Ω—Ç

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –≤–∫–ª–∞–¥–∫—É "–ö–ª—É–±"
   ‚Üì
2. Frontend: loadClubData() ‚Üí –Ω–∞—Ö–æ–¥–∏—Ç payment –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   ‚Üì
3. Frontend: getNextSundays(paid_at, 4) ‚Üí —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å—è
   ‚Üì
4. Frontend: —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –ø—Ä–æ—à–µ–¥—à–∏–µ –≤—Å—Ç—Ä–µ—á–∏ (date < now)
   ‚Üì
5. –†–µ–∑—É–ª—å—Ç–∞—Ç: –∫–∞—Ä—Ç–æ—á–∫–∏ –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö –≤—Å—Ç—Ä–µ—á (–∏–ª–∏ –∫–Ω–æ–ø–∫–∞ "–ö—É–ø–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–π –∞–±–æ–Ω–µ–º–µ–Ω—Ç")

---

### –ò—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è: –û–ø–ª–∞—Ç–∞ –Ω–µ –ø—Ä–æ—à–ª–∞

1. YooKassa –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É
   ‚Üì
2. Frontend: –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –Ω–æ–≤—ã–π payment –ø–æ—Å–ª–µ 30 —Å–µ–∫—É–Ω–¥
   ‚Üì
3. Frontend: toast "–û–ø–ª–∞—Ç–∞ –Ω–µ –ø—Ä–æ—à–ª–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞."
   ‚Üì
4. HapticFeedback: notificationOccurred('error')
   ‚Üì
5. –†–µ–∑—É–ª—å—Ç–∞—Ç: –∫–∞—Ä—Ç–æ—á–∫–∞ "–í—Å—Ç—É–ø–∏—Ç—å –≤ –∫–ª—É–±" –æ—Å—Ç–∞–µ—Ç—Å—è

---

## –ò–∑–º–µ–Ω–µ–Ω–∏—è UI

### –ù–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

#### 1. –¢–∞–± "–ö–ª—É–±" –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (index.html)

–î–æ–±–∞–≤–ª—è–µ–º –ø–æ—Å–ª–µ —Ç–∞–±–∞ "–ó–∞–ø–∏—Å—å" (—Å—Ç—Ä–æ–∫–∞ 115):

```html
<button class="tab-btn" data-tab="club">
    <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="9" cy="7" r="4"></circle>
        <path d="M2 21v-4a4 4 0 0 1 4-4h6a4 4 0 0 1 4 4v4"></path>
        <circle cx="18" cy="9" r="3"></circle>
        <path d="M23 21v-3a3 3 0 0 0-3-3h-1"></path>
    </svg>
    <span>–ö–ª—É–±</span>
</button>
```

CSS: –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º .tab-btn, .tab-icon

---

#### 2. –≠–∫—Ä–∞–Ω "–ö–ª—É–±"

–ó–∞–≥–æ–ª–æ–≤–æ–∫: "–í—Å—Ç—Ä–µ—á–∏ –∫–ª—É–±–∞ - –∫–∞–∂–¥–æ–µ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ –≤ 17:00"
CSS: –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º .screen-title

---

#### 3. –ö–∞—Ä—Ç–æ—á–∫–∞ "–í—Å—Ç—É–ø–∏—Ç—å –≤ –∫–ª—É–±"

–°—Ç—Ä—É–∫—Ç—É—Ä–∞:
- service-card glass-card
- service-header: –∏–∫–æ–Ω–∫–∞ üèõÔ∏è, –Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ
- service-footer: —Ü–µ–Ω–∞ 2990‚ÇΩ, –∫–Ω–æ–ø–∫–∞ "–ö—É–ø–∏—Ç—å –∞–±–æ–Ω–µ–º–µ–Ω—Ç"

CSS: –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å—Ç–∏–ª–∏ –∏–∑ renderServicesScreen

---

#### 4. –ö–∞—Ä—Ç–æ—á–∫–∞ –≤—Å—Ç—Ä–µ—á–∏ –∫–ª—É–±–∞

–°—Ç—Ä—É–∫—Ç—É—Ä–∞:
- service-card glass-card
- service-header: –∏–∫–æ–Ω–∫–∞ üìÖ, "–í—Å—Ç—Ä–µ—á–∞ –∫–ª—É–±–∞", –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è
- service-footer: –∫–Ω–æ–ø–∫–∞ "–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Zoom"

CSS: –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º + –≤–æ–∑–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:
```css
.zoom-link {
    background: var(--accent-gradient);
    color: var(--text-white);
    border: none;
    padding: 12px 24px;
    border-radius: var(--border-radius);
    font-weight: 600;
}
```

---

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö

#### –≠–∫—Ä–∞–Ω "–£—Å–ª—É–≥–∏" (renderServicesScreen)

–§–∏–ª—å—Ç—Ä—É–µ–º –∫–∞—Ä—Ç–æ—á–∫—É "–í—Å—Ç—É–ø–∏—Ç—å –≤ –∫–ª—É–±":

–¢–µ–∫—É—â–∏–π –∫–æ–¥ (app.js:1348):
```javascript
const services = State.services;
```

–ù–æ–≤—ã–π –∫–æ–¥:
```javascript
const services = State.services.filter(s => !s.type || s.type !== 'info_button');
```

---

## ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

**API –≤—ã–∑–æ–≤—ã**:
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ club.json –Ω–∞ 60 —Å–µ–∫—É–Ω–¥
- –ü—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –Ω–∞ —Ç–∞–±: –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–µ—à, –æ–±–Ω–æ–≤–ª—è–µ–º –≤ —Ñ–æ–Ω–µ
- –û–ø—Ä–æ—Å –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã: –º–∞–∫—Å 15 –ø–æ–ø—ã—Ç–æ–∫ (30 —Å–µ–∫)

**–†–µ–Ω–¥–µ—Ä–∏–Ω–≥**:
- –†–∞—Å—á–µ—Ç –≤–æ—Å–∫—Ä–µ—Å–µ–Ω–∏–π: –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ—à–µ–¥—à–∏—Ö –≤—Å—Ç—Ä–µ—á: O(4) = O(1)
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ CSS –∫–ª–∞—Å—Å—ã

**–ü–∞–º—è—Ç–∏**:
- –•—Ä–∞–Ω–∏–º —Ç–æ–ª—å–∫–æ payment –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –û—á–∏—â–∞–µ–º –∫–µ—à –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —Ç–∞–±–æ–≤

### –¶–µ–ª–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏

- –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤–∫–ª–∞–¥–∫–∏ "–ö–ª—É–±": < 1 —Å–µ–∫ (—Å –∫–µ—à–µ–º < 200ms)
- –í—Ä–µ–º—è —Ä–∞—Å—á–µ—Ç–∞ 4 –≤–æ—Å–∫—Ä–µ—Å–µ–Ω–∏–π: < 10ms
- –í—Ä–µ–º—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ 4 –∫–∞—Ä—Ç–æ—á–µ–∫: < 50ms
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ API –≤—ã–∑–æ–≤–æ–≤: 1 (–∏–ª–∏ 0 —Å –∫–µ—à–µ–º)

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

**Frontend**:
- –í–∞–ª–∏–¥–∞—Ü–∏—è payment_id (–ø—Ä–æ–≤–µ—Ä—è–µ–º payment.user_id === USER.id)
- –≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ HTML (–∏—Å–ø–æ–ª—å–∑—É–µ–º escapeHtml)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞—Ç (try/catch –≤ getNextSundays)

**Backend (Make.com)**:
- –ü—Ä–æ–≤–µ—Ä–∫–∞ user_id –≤ metadata
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ payment_id
- –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –∑–∞–ø–∏—Å—å—é –≤ club.json

### –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

- Zoom-—Å—Å—ã–ª–∫–∞ –≤ club.json (–ø—É–±–ª–∏—á–Ω—ã–π —Ñ–∞–π–ª) - –û–ö, –∑–∞—â–∏—â–µ–Ω–∞ –ø–∞—Ä–æ–ª–µ–º –≤ Zoom
- Payment_id –Ω–µ –ø–µ—Ä–µ–¥–∞–µ–º –≤ URL
- User_id –Ω–µ –ª–æ–≥–∏—Ä—É–µ–º –≤ console (—Ç–æ–ª—å–∫–æ –≤ Eruda)

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ß—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**:

- [ ] TC-1: –¢–∞–± "–ö–ª—É–±" –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è (4-–π —Ç–∞–±)
- [ ] TC-2: –ö–ª–∏–∫ –Ω–∞ —Ç–∞–± ‚Üí —ç–∫—Ä–∞–Ω —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º
- [ ] TC-3: –ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí –∫–∞—Ä—Ç–æ—á–∫–∞ "–í—Å—Ç—É–ø–∏—Ç—å –≤ –∫–ª—É–±"
- [ ] TC-4: –ö–∞—Ä—Ç–æ—á–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç: –Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ, —Ü–µ–Ω—É, –∫–Ω–æ–ø–∫—É
- [ ] TC-5: –ö–ª–∏–∫ "–ö—É–ø–∏—Ç—å –∞–±–æ–Ω–µ–º–µ–Ω—Ç" ‚Üí YooKassa —Ñ–æ—Ä–º–∞
- [ ] TC-6: –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã ‚Üí –∫–∞—Ä—Ç–æ—á–∫–∞ –∏—Å—á–µ–∑–∞–µ—Ç
- [ ] TC-7: –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã ‚Üí 4 –∫–∞—Ä—Ç–æ—á–∫–∏ –≤—Å—Ç—Ä–µ—á
- [ ] TC-8: –ö–∞–∂–¥–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞: –¥–∞—Ç–∞ (–≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ), –≤—Ä–µ–º—è 17:00, –∫–Ω–æ–ø–∫–∞
- [ ] TC-9: –î–∞—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã (4 –±–ª–∏–∂–∞–π—à–∏—Ö –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å—è)
- [ ] TC-10: –ö–ª–∏–∫ "–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è" ‚Üí Zoom –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- [ ] TC-11: –ü—Ä–æ—à–µ–¥—à–∏–µ –≤—Å—Ç—Ä–µ—á–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- [ ] TC-12: –ö–∞—Ä—Ç–æ—á–∫–∞ "–í—Å—Ç—É–ø–∏—Ç—å –≤ –∫–ª—É–±" –ù–ï –≤–æ –≤–∫–ª–∞–¥–∫–µ "–£—Å–ª—É–≥–∏"
- [ ] TC-13: –í—Å–µ –≤—Å—Ç—Ä–µ—á–∏ –ø—Ä–æ—à–ª–∏ ‚Üí –∫–Ω–æ–ø–∫–∞ "–ö—É–ø–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–π –∞–±–æ–Ω–µ–º–µ–Ω—Ç"

**–ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**:

- [ ] TC-14: HapticFeedback.selectionChanged() –ø—Ä–∏ –∫–ª–∏–∫–µ "–ö—É–ø–∏—Ç—å –∞–±–æ–Ω–µ–º–µ–Ω—Ç"
- [ ] TC-15: HapticFeedback.notificationOccurred('success') –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã
- [ ] TC-16: HapticFeedback.impactOccurred('light') –ø—Ä–∏ –∫–ª–∏–∫–µ "–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è"
- [ ] TC-17: –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ —Ç–∞–± –ø–ª–∞–≤–Ω–æ–µ
- [ ] TC-18: –î–∏–∑–∞–π–Ω beige –ø–∞–ª–∏—Ç—Ä–∞ (glassmorphism)
- [ ] TC-19: –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å (iPhone SE, iPhone 15 Pro Max)

### –¢–µ—Å—Ç-–∫–µ–π—Å—ã

#### TC-1: –ü–µ—Ä–≤–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ –≤–∫–ª–∞–¥–∫–∏ "–ö–ª—É–±" (–Ω–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)

1. –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–ö–ª—É–±"
3. –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
   - –ó–∞–≥–æ–ª–æ–≤–æ–∫: "–í—Å—Ç—Ä–µ—á–∏ –∫–ª—É–±–∞ - –∫–∞–∂–¥–æ–µ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ –≤ 17:00"
   - –ö–∞—Ä—Ç–æ—á–∫–∞ "–í—Å—Ç—É–ø–∏—Ç—å –≤ –∫–ª—É–±"
   - –¶–µ–Ω–∞: 2990‚ÇΩ
   - –ö–Ω–æ–ø–∫–∞: "–ö—É–ø–∏—Ç—å –∞–±–æ–Ω–µ–º–µ–Ω—Ç"

#### TC-2: –ü–æ–∫—É–ø–∫–∞ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞ (Happy Path)

1. –í–∫–ª–∞–¥–∫–∞ "–ö–ª—É–±"
2. –ö–ª–∏–∫ "–ö—É–ø–∏—Ç—å –∞–±–æ–Ω–µ–º–µ–Ω—Ç"
3. –û–ø–ª–∞—Ç–∞ 2990‚ÇΩ (—Ç–µ—Å—Ç–æ–≤–∞—è –∫–∞—Ä—Ç–∞)
4. –í–æ–∑–≤—Ä–∞—Ç –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
5. –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
   - –ö–∞—Ä—Ç–æ—á–∫–∞ "–í—Å—Ç—É–ø–∏—Ç—å –≤ –∫–ª—É–±" –∏—Å—á–µ–∑–ª–∞
   - 4 –∫–∞—Ä—Ç–æ—á–∫–∏ –≤—Å—Ç—Ä–µ—á
   - –î–∞—Ç—ã: 4 –±–ª–∏–∂–∞–π—à–∏—Ö –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å—è
   - –í—Ä–µ–º—è: 17:00
   - –ö–Ω–æ–ø–∫–∞ "–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Zoom"
   - HapticFeedback.notificationOccurred('success')

#### TC-3: –†–∞—Å—á–µ—Ç –≤–æ—Å–∫—Ä–µ—Å–µ–Ω–∏–π –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω

–¢–µ–∫—É—â–∞—è –¥–∞—Ç–∞: —Å—Ä–µ–¥–∞, 12 —Ñ–µ–≤—Ä–∞–ª—è 2026
–ü–æ—Å–ª–µ –ø–æ–∫—É–ø–∫–∏:
- –í—Å—Ç—Ä–µ—á–∞ 1: –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ, 16 —Ñ–µ–≤—Ä–∞–ª—è 2026
- –í—Å—Ç—Ä–µ—á–∞ 2: –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ, 23 —Ñ–µ–≤—Ä–∞–ª—è 2026
- –í—Å—Ç—Ä–µ—á–∞ 3: –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ, 2 –º–∞—Ä—Ç–∞ 2026
- –í—Å—Ç—Ä–µ—á–∞ 4: –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ, 9 –º–∞—Ä—Ç–∞ 2026

---

## ‚ö†Ô∏è –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–∏—Å–∫–∏

**–†–∏—Å–∫ 1: –†–∞—Å—á–µ—Ç –≤–æ—Å–∫—Ä–µ—Å–µ–Ω–∏–π - –æ—à–∏–±–∫–∞ timezone**
- –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å: –ù–∏–∑–∫–∞—è
- –í–ª–∏—è–Ω–∏–µ: –°—Ä–µ–¥–Ω–µ–µ
- –ú–∏—Ç–∏–≥–∞—Ü–∏—è: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å —Ä–∞–∑–Ω—ã–º–∏ –¥–∞—Ç–∞–º–∏, try/catch
- –ü–ª–∞–Ω –ë: Fallback —Å–æ–æ–±—â–µ–Ω–∏–µ "–û–±–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"

**–†–∏—Å–∫ 2: club.json –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è (—Å–±–æ–π Make.com)**
- –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å: –°—Ä–µ–¥–Ω—è—è
- –í–ª–∏—è–Ω–∏–µ: –í—ã—Å–æ–∫–æ–µ
- –ú–∏—Ç–∏–≥–∞—Ü–∏—è: Retry (–∫–∞–∂–¥—ã–µ 2 —Å–µ–∫, –º–∞–∫—Å 30 —Å–µ–∫), —Å–æ–æ–±—â–µ–Ω–∏–µ "–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —á–µ—Ä–µ–∑ –º–∏–Ω—É—Ç—É"
- –ü–ª–∞–Ω –ë: –í—Ä—É—á–Ω—É—é –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å –≤ club.json

**–†–∏—Å–∫ 3: –î–≤–æ–π–Ω–∞—è –ø–æ–∫—É–ø–∫–∞ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞**
- –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å: –ù–∏–∑–∫–∞—è
- –í–ª–∏—è–Ω–∏–µ: –°—Ä–µ–¥–Ω–µ–µ
- –ú–∏—Ç–∏–≥–∞—Ü–∏—è: –ë–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É (disabled + spinner), –ø—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ payment_id
- –ü–ª–∞–Ω –ë: –í–æ–∑–≤—Ä–∞—Ç –¥–µ–Ω–µ–≥ —á–µ—Ä–µ–∑ YooKassa

**–†–∏—Å–∫ 4: Zoom-—Å—Å—ã–ª–∫–∞ –Ω–µ–≤–∞–ª–∏–¥–Ω–∞**
- –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å: –ù–∏–∑–∫–∞—è
- –í–ª–∏—è–Ω–∏–µ: –í—ã—Å–æ–∫–æ–µ
- –ú–∏—Ç–∏–≥–∞—Ü–∏—è: –ü–æ—Å—Ç–æ—è–Ω–Ω–∞—è —Å—Å—ã–ª–∫–∞, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- –ü–ª–∞–Ω –ë: –û–±–Ω–æ–≤–∏—Ç—å –≤—Ä—É—á–Ω—É—é, —É–≤–µ–¥–æ–º–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### Make.com

–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ webhook YooKassa (payment.succeeded):

1. –ü—Ä–æ–≤–µ—Ä–∫–∞ service_id:
   - –ï—Å–ª–∏ metadata.service_id === 'club' ‚Üí –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª—É–±–Ω–æ–≥–æ –ø–ª–∞—Ç–µ–∂–∞

2. –û–±—Ä–∞–±–æ—Ç–∫–∞:
   - –ß–∏—Ç–∞–µ–º club.json (HTTP GET)
   - –î–æ–±–∞–≤–ª—è–µ–º –∑–∞–ø–∏—Å—å –≤ payments
   - –û–±–Ω–æ–≤–ª—è–µ–º generated_at
   - –ó–∞–ø–∏—Å—ã–≤–∞–µ–º club.json (HTTP PUT)

3. –û—à–∏–±–∫–∏:
   - –ù–µ —É–¥–∞–ª–æ—Å—å –ø—Ä–æ—á–∏—Ç–∞—Ç—å: –ª–æ–≥–∏—Ä—É–µ–º, —É–≤–µ–¥–æ–º–ª—è–µ–º –∞–¥–º–∏–Ω–∞
   - –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–ø–∏—Å–∞—Ç—å: retry 3 —Ä–∞–∑–∞, —É–≤–µ–¥–æ–º–ª—è–µ–º –∞–¥–º–∏–Ω–∞

---

### club.json

–°—Ç—Ä—É–∫—Ç—É—Ä–∞:

```json
{
  "generated_at": "2026-02-12T15:30:00Z",
  "zoom_link": "https://zoom.us/j/CLUB_LINK",
  "payments": [
    {
      "user_id": 123456,
      "payment_id": "yookassa_abc",
      "paid_at": "2026-02-12T14:00:00Z",
      "sundays_count": 4,
      "zoom_link": "https://zoom.us/j/CLUB_LINK"
    }
  ]
}
```

–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:
- zoom_link –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ - –¥–µ—Ñ–æ–ª—Ç–Ω–∞—è
- zoom_link –≤ payment - –∫–∞—Å—Ç–æ–º–Ω–∞—è (–Ω–∞ –±—É–¥—É—â–µ–µ)
- –§—Ä–æ–Ω—Ç: payment.zoom_link || clubData.zoom_link

---

## –†–µ—à–µ–Ω–∏—è –∏ –∫–æ–º–ø—Ä–æ–º–∏—Å—Å—ã

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

**–†–µ—à–µ–Ω–∏–µ 1: –§—Ä–æ–Ω—Ç–µ–Ω–¥ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å—è**
- –ü—Ä–æ–±–ª–µ–º–∞: –ù—É–∂–Ω—ã –¥–∞—Ç—ã 4 –≤—Å—Ç—Ä–µ—á
- –í–∞—Ä–∏–∞–Ω—Ç—ã:
  - –ê: Backend —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç - —Å–ª–æ–∂–Ω–µ–µ
  - –ë: –§—Ä–æ–Ω—Ç–µ–Ω–¥ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç - –ø—Ä–æ—â–µ
- –í—ã–±–æ—Ä: –ë
- –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ: Date API –Ω–∞–¥—ë–∂–µ–Ω, –ª–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

**–†–µ—à–µ–Ω–∏–µ 2: –û–¥–Ω–∞ Zoom-—Å—Å—ã–ª–∫–∞ –¥–ª—è –≤—Å–µ—Ö –≤—Å—Ç—Ä–µ—á**
- –ü—Ä–æ–±–ª–µ–º–∞: –ù—É–∂–Ω—ã Zoom-—Å—Å—ã–ª–∫–∏
- –í–∞—Ä–∏–∞–Ω—Ç—ã:
  - –ê: –û—Ç–¥–µ–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞ –¥–ª—è –∫–∞–∂–¥–æ–π –≤—Å—Ç—Ä–µ—á–∏ - —Å–ª–æ–∂–Ω–µ–µ
  - –ë: –û–¥–Ω–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–∞—è —Å—Å—ã–ª–∫–∞ - –ø—Ä–æ—â–µ
- –í—ã–±–æ—Ä: –ë
- –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ: –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—Å—Ç—Ä–µ—á–∏, —É–¥–æ–±–Ω–µ–µ

**–†–µ—à–µ–Ω–∏–µ 3: –£–±—Ä–∞—Ç—å "–í—Å—Ç—É–ø–∏—Ç—å –≤ –∫–ª—É–±" –∏–∑ "–£—Å–ª—É–≥–∏"**
- –ü—Ä–æ–±–ª–µ–º–∞: –ì–¥–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É?
- –í–∞—Ä–∏–∞–Ω—Ç—ã:
  - –ê: –í –æ–±–æ–∏—Ö –º–µ—Å—Ç–∞—Ö - –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
  - –ë: –¢–æ–ª—å–∫–æ –≤ "–ö–ª—É–±" - —á–∏—Å—Ç–æ
- –í—ã–±–æ—Ä: –ë
- –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ: –õ–æ–≥–∏—á–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ç–∞–±–æ–≤

---

## –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏

### –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

–ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è - –Ω–æ–≤–∞—è —Ñ–∏—á–∞.

–°–æ–∑–¥–∞–Ω–∏–µ club.json:
1. –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª –≤ –∫–æ—Ä–Ω–µ
2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞: { generated_at, zoom_link, payments: [] }
3. –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å URL –¥–æ—Å—Ç—É–ø–µ–Ω

---

### –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

–ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

–ü—Ä–æ–≤–µ—Ä–∫–∏:
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è club_info –Ω–µ –ª–æ–º–∞–µ—Ç –∫–æ–¥
- 4-–π —Ç–∞–± –Ω–µ –ª–æ–º–∞–µ—Ç —Å—Ç–∏–ª–∏

---

### –û—Ç–∫–∞—Ç (Rollback)

–ï—Å–ª–∏ –±–∞–≥:

1. –û—Ç–∫–∞—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞: git revert, –∑–∞–¥–µ–ø–ª–æ–∏—Ç—å
2. –û—Ç–∫–∞—Ç backend: –æ—Ç–∫–ª—é—á–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É service_id === 'club'
3. –î–∞–Ω–Ω—ã–µ: club.json –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å

–ü–ª–∞–Ω –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–Ω–æ–º –±–∞–≥–µ:
1. –°–∫—Ä—ã—Ç—å —Ç–∞–± —á–µ—Ä–µ–∑ CSS (display: none)
2. –°–æ–æ–±—â–µ–Ω–∏–µ: "–í–∫–ª–∞–¥–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞"
3. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –±–∞–≥
4. –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å
5. –í–∫–ª—é—á–∏—Ç—å —Ç–∞–±

---

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ß—Ç–æ –æ–±–Ω–æ–≤–∏—Ç—å –ø–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- [ ] –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ: JSDoc –¥–ª—è –≤—Å–µ—Ö –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- [ ] config.js: –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç
- [ ] README.md: –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ–º (–ø–æ–∫–∞ –Ω–µ—Ç)

---

## –ß–µ–∫-–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –ø–ª–∞–Ω–∞

- [x] –û–ø–∏—Å–∞–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- [x] –†–∞—Å–ø–∏—Å–∞–Ω—ã –ø–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- [x] –£—á—Ç–µ–Ω—ã NFR
- [x] –û–ø–∏—Å–∞–Ω—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- [x] –í—ã—è–≤–ª–µ–Ω—ã —Ä–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è
- [x] –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã
- [x] –°—Ç–∞—Ç—É—Å –∏–∑–º–µ–Ω—ë–Ω –Ω–∞ PLAN_APPROVED

**–ü–ª–∞–Ω –≥–æ—Ç–æ–≤ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏!**
