# PRD: Улучшение визуального стиля рамок (табы + заголовок)

**Тикет**: T-009
**Автор**: Андрей Селезнев
**Дата создания**: 2026-02-16
**Статус**: PRD_READY

---

## Краткое описание

**Два улучшения в стиле приложения:**

1. **Табы навигации** (Услуги, Клуб, Запись, Мои записи): убрать белый фон активного таба, оставить полную рамку с более ярким beige цветом

2. **Заголовок "Диагностика - это первый шаг перед консультацией"**: добавить угловую рамку (corner brackets) в стиле приложения

---

## Проблема / Возможность

### Контекст

**Визуальные проблемы**:
1. **Табы навигации**: Активный таб имеет белый фон (`background: white;`), что выглядит громоздко
2. **Заголовок экрана услуг**: Фраза "Диагностика - это первый шаг перед консультацией" не выделена визуально, хотя является важным информационным блоком

**Возможность**: Улучшить визуальный стиль приложения, сделав его более лёгким и элегантным.

### Текущая ситуация (AS IS)

#### Часть 1: Табы навигации
**Код** (`styles.css:789-794`):
```css
.tab-btn.active {
    color: var(--accent-primary);
    background: white;  /* ← УБРАТЬ */
    border: 1px solid rgba(200, 184, 160, 0.4);  /* ← Цвет слишком прозрачный */
    box-sizing: border-box;
}
```

**Визуал**:
- Активный таб имеет **белый фон**
- Рамка едва заметна (40% прозрачность)

#### Часть 2: Заголовок "первый шаг..."
**Код** (`styles.css:91-94`, `app.js:1697`):
```css
.screen-title {
    font-size: 32px;
    font-weight: 700;
    color: var(--text-primary);
    /* Нет рамки вообще */
}
```

**Визуал**:
- Простой текст без рамки
- Не выделяется визуально

### Желаемая ситуация (TO BE)

#### Часть 1: Табы навигации
**Код**:
```css
.tab-btn.active {
    color: var(--accent-primary);
    background: transparent;  /* ← УБРАТЬ белый фон */
    border: 1.5px solid #C8B8A0;  /* ← Более яркий beige, без прозрачности */
    box-sizing: border-box;
}
```

**Визуал**:
- Прозрачный фон
- Чёткая видимая рамка beige цвета

#### Часть 2: Заголовок "первый шаг..."
**Код**:
```css
.screen-title {
    position: relative;
    font-size: 32px;
    font-weight: 700;
    color: var(--text-primary);
    padding: 16px 0;  /* Отступы для рамки */
}

/* Верхний левый угол */
.screen-title::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 50px;
    height: 50px;
    border-top: 2.5px solid #C8B8A0;
    border-left: 2.5px solid #C8B8A0;
}

/* Нижний правый угол */
.screen-title::after {
    content: '';
    position: absolute;
    bottom: 0;
    right: 0;
    width: 50px;
    height: 50px;
    border-bottom: 2.5px solid #C8B8A0;
    border-right: 2.5px solid #C8B8A0;
}
```

**Визуал**:
- Угловая рамка (2 угла: верхний левый + нижний правый)
- Beige цвет в стиле приложения
- Элегантное выделение заголовка

---

## Цели и Метрики Успеха

### Цели

1. **UX улучшение**: Сделать навигацию визуально легче
2. **Стилевая консистентность**: Следовать минималистичному дизайну приложения
3. **Современный вид**: Угловые рамки выглядят современнее белых прямоугольников

### Метрики успеха

**Визуальные**:
- ✅ Белый фон активного таба удалён
- ✅ Угловая рамка (2 угла) отображается корректно
- ✅ Цвет рамки: `var(--accent-primary)` (#C8B8A0)
- ✅ Рамка не перекрывает иконку и текст таба

**Технические**:
- ✅ CSS изменения < 20 строк
- ✅ Рамка адаптивна (работает на всех размерах экрана)
- ✅ Плавная анимация переключения табов (`transition: all 0.2s`)

**Браузерная совместимость**:
- ✅ iOS Safari (основной браузер Telegram WebApp)
- ✅ Android Chrome

---

## Область действия (Scope)

### В области (In Scope)

#### Часть 1: Табы навигации
**CSS изменения** (`.tab-btn.active` в `styles.css`):
1. Убрать: `background: white;`
2. Изменить: `background: transparent;`
3. Изменить border: `border: 1.5px solid #C8B8A0;` (более яркий, без прозрачности)

#### Часть 2: Заголовок "первый шаг..."
**CSS изменения** (`.screen-title` в `styles.css`):
1. Добавить `position: relative;`
2. Добавить `padding: 16px 0;` (отступы для рамки)
3. Создать `.screen-title::before` (верхний левый угол):
   - Абсолютное позиционирование (top: 0, left: 0)
   - Border-top + border-left (2.5px solid #C8B8A0)
   - Размер: 50px × 50px

4. Создать `.screen-title::after` (нижний правый угол):
   - Абсолютное позиционирование (bottom: 0, right: 0)
   - Border-bottom + border-right (2.5px solid #C8B8A0)
   - Размер: 50px × 50px

**HTML изменения**:
- ❌ Не требуются (используем псевдоэлементы)

**JavaScript изменения**:
- ❌ Не требуются

### Вне области (Out of Scope)

- ❌ Изменение логики переключения табов
- ❌ Изменение текста заголовка
- ❌ Изменение цветовой палитры (используем #C8B8A0)
- ❌ Добавление анимации появления рамок
- ❌ Изменение других заголовков (только `.screen-title` в услугах)

---

## Технические детали

### Файлы для изменения

1. **`styles.css`**
   - **Строки 789-794**: Изменить `.tab-btn.active` (убрать белый фон, изменить border)
   - **Строки 91-94**: Изменить `.screen-title` (добавить position, padding)
   - **После строки 94**: Добавить `.screen-title::before` и `.screen-title::after`

### Цветовая схема

**Единый цвет для обеих частей**: `#C8B8A0` (beige, основной accent цвет)

### Параметры рамок

#### Часть 1: Табы навигации (полная рамка)
| Параметр | Значение | Обоснование |
|----------|----------|-------------|
| Background | `transparent` | Убираем белый фон |
| Border | `1.5px solid #C8B8A0` | Яркий beige, хорошо видно |
| Border-radius | `12px` | Сохраняем текущий |

#### Часть 2: Заголовок (угловая рамка)
| Параметр | Значение | Обоснование |
|----------|----------|-------------|
| Толщина (`border-width`) | 2.5px | Более заметно для заголовка |
| Длина углов (`width/height`) | 50px | Пропорционально размеру заголовка |
| Цвет | `#C8B8A0` | Основной accent цвет |
| Padding | `16px 0` | Отступы для рамки |

---

## User Stories

### US-1: Пользователь видит активный таб
**Как** пользователь,
**Я хочу** видеть активный таб с чёткой рамкой без белого фона,
**Чтобы** легко определить, на какой вкладке я нахожусь, не отвлекаясь на громоздкий белый прямоугольник.

**Acceptance Criteria**:
- ✅ При переключении на таб "Услуги" → рамка beige цвета, БЕЗ белого фона
- ✅ При переключении на другой таб → рамка перемещается на новый таб
- ✅ Рамка чёткая и хорошо видимая (без прозрачности)
- ✅ Иконка и текст таба остаются читаемыми

### US-2: Пользователь видит заголовок с угловой рамкой
**Как** пользователь,
**Я хочу** видеть заголовок "первый шаг перед консультацией" выделенным угловой рамкой,
**Чтобы** сразу обратить внимание на важную информацию о диагностике.

**Acceptance Criteria**:
- ✅ Заголовок обрамлён угловой рамкой (2 угла: верхний левый + нижний правый)
- ✅ Рамка beige цвета (#C8B8A0)
- ✅ Текст заголовка не перекрывается рамкой
- ✅ Рамка видна на всех размерах экрана

---

## Edge Cases

### EC-1: Маленькие экраны (iPhone SE) - Табы
- **Проблема**: Рамка таба может выглядеть слишком тонкой
- **Решение**: Толщина 1.5px - компромисс между видимостью и элегантностью
- **Проверка**: Тестирование на iPhone SE (375px ширина)

### EC-2: Маленькие экраны (iPhone SE) - Заголовок
- **Проблема**: Угловая рамка может перекрыть текст заголовка
- **Решение**: Padding 16px (вертикальный отступ), размер углов 50px
- **Проверка**: Media query @media (max-width: 380px) → шрифт 28px

### EC-3: Анимация переключения табов
- **Проблема**: Резкое появление/исчезновение рамки
- **Решение**: Унаследовать `transition: all 0.2s` от `.tab-btn`
- **Проверка**: Плавное появление рамки при переключении

### EC-4: Псевдоэлементы конфликтуют (заголовок)
- **Проблема**: Если `.screen-title` уже использует `::before`/`::after`
- **Решение**: Проверить конфликты → сейчас не используются
- **Проверка**: Grep по `styles.css` для `.screen-title::before`

---

## Зависимости

### Технические зависимости
- ❌ Нет (чистый CSS, не зависит от JavaScript или внешних библиотек)

### Дизайн-зависимости
- ✅ Цветовая палитра определена (`--accent-primary`)
- ✅ Border-radius табов уже настроен (12px)

---

## Риски и Митигация

| Риск | Вероятность | Влияние | Митигация |
|------|-------------|---------|-----------|
| Рамка табов слишком тонкая (плохо видна) | Средняя | Среднее | Толщина 1.5px, без прозрачности. Можно увеличить до 2px при тесте |
| Угловая рамка перекрывает текст заголовка | Средняя | Среднее | Padding 16px, размер углов 50px, тестирование на iPhone SE |
| Псевдоэлементы не работают в старых браузерах | Низкая | Низкое | Telegram WebApp использует современные браузеры (iOS Safari 14+) |
| Рамка заголовка выглядит слишком громоздко | Низкая | Низкое | Только 2 угла (не 4), толщина 2.5px оптимальна |

---

## План тестирования

### Тест 1: Табы навигации - визуальная проверка
- Открыть приложение → таб "Услуги" активен
- ✅ Белый фон отсутствует (фон прозрачный)
- ✅ Полная рамка beige цвета отображается
- ✅ Рамка чёткая и хорошо видимая (без прозрачности)

### Тест 2: Табы навигации - переключение
- Переключиться на "Клуб"
- ✅ Рамка исчезла с "Услуги"
- ✅ Рамка появилась на "Клуб" (БЕЗ белого фона)
- ✅ Переключить все 4 таба → рамка везде корректна

### Тест 3: Заголовок с угловой рамкой
- Находясь на табе "Услуги", проверить заголовок "Диагностика - это первый шаг перед консультацией"
- ✅ Угловая рамка (2 угла: верхний левый + нижний правый) отображается
- ✅ Цвет рамки: beige (#C8B8A0)
- ✅ Текст заголовка не перекрывается рамкой
- ✅ Рамка не выходит за пределы экрана

### Тест 4: Малые экраны (iPhone SE)
- Открыть DevTools → iPhone SE (375px)
- ✅ Табы: рамка не перекрывает иконки и текст
- ✅ Заголовок: угловая рамка видна, текст не обрезается
- ✅ Проверить media query @media (max-width: 380px) для `.screen-title`

---

## Критерии завершения (Definition of Done)

Тикет считается завершённым когда:

**Часть 1: Табы навигации**
- [ ] Белый фон (`background: white;`) удалён из `.tab-btn.active`
- [ ] Border изменён на `1.5px solid #C8B8A0` (без прозрачности)
- [ ] Все 4 таба протестированы (рамка видна, без белого фона)

**Часть 2: Заголовок "первый шаг..."**
- [ ] Угловая рамка добавлена (`.screen-title::before` и `::after`)
- [ ] Рамка beige цвета (#C8B8A0), толщина 2.5px
- [ ] Текст заголовка не перекрывается рамкой
- [ ] Рамка корректно отображается на малых экранах (iPhone SE)

**Общее**
- [ ] Тестирование на iPhone (реальное устройство в Telegram)
- [ ] Версия в `index.html` обновлена (v68)
- [ ] Commit + Push в `main` ветку
- [ ] Production деплой: https://andseleznev-lab.github.io/-TGBOT/

---

## Timeline (примерный)

| Фаза | Время | Описание |
|------|-------|----------|
| CSS изменения (часть 1: табы) | 5 мин | Изменить `.tab-btn.active` |
| CSS изменения (часть 2: заголовок) | 10 мин | Добавить `.screen-title::before/after` |
| Тестирование в браузере | 10 мин | Проверка табов + заголовка |
| Тестирование на телефоне | 5 мин | Telegram → визуальная проверка |
| Commit + Deploy | 5 мин | Версия v68, push, деплой |
| **Итого** | **35 мин** | Две независимые части |

---

## Приложения

### Референс дизайна
- **Demo файл**: `demo-corner-border.html` (Вариант 1)
- **Скриншот требования**: `IMG_6095.jpg` (нарисована красная рамка)

### CSS переменные (используемые)
```css
--accent-primary: #C8B8A0;  /* Beige */
--transition-fast: 0.2s;
```

---

## Заметки

**Важно**:
- **Часть 1 (табы)**: Простое изменение - убрать `background: white;`, изменить `border`
- **Часть 2 (заголовок)**: Используем псевдоэлементы `::before` и `::after` → не требуется HTML изменений
- Единый цвет **#C8B8A0** для обеих частей → консистентность стиля
- Толщина рамок:
  - Табы: **1.5px** (тонкая рамка)
  - Заголовок: **2.5px** (более заметная для акцента)

**Альтернативы** (если не понравится):
1. **Табы**: увеличить толщину до 2px
2. **Заголовок**: увеличить длину углов до 60px (более заметно)
3. **Заголовок**: добавить все 4 угла (требует wrapper элемент)

**Почему только 2 угла для заголовка?**
- 2 угла (верхний левый + нижний правый) достаточно для визуального выделения
- 4 угла требуют дополнительный HTML элемент (усложнение)
- 2 угла выглядят легче и минималистичнее (соответствует стилю приложения)

---

## История изменений

| Дата | Версия | Автор | Изменения |
|------|--------|-------|-----------|
| 2026-02-16 | 1.0 | Андрей Селезнев | Создание PRD |
