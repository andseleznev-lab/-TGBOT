# План реализации: [Название фичи]

**Тикет**: T-XXX  
**PRD**: `docs/prd/T-XXX.prd.md`  
**Автор**: [Ваше имя]  
**Дата создания**: [YYYY-MM-DD]  
**Статус**: DRAFT | PLAN_APPROVED | IN_PROGRESS | COMPLETED

## Краткое описание

[1-2 предложения о техническом решении]

##  Архитектура решения

### Обзор

[Общее описание как будет работать фича на техническом уровне, коротко]

## Затрагиваемые файлы

### Изменяемые файлы

**Frontend**:
- `js/app.js`
  - Что изменим: [описание]
  - Новые функции: [список]
  
- `css/styles.css`
  - Что изменим: [описание]
  - Новые классы: [список]

- `index.html`
  - Что изменим: [описание]

**Backend (Make.com)**:

- Что изменим: [описание]

**Конфигурация**:
- `js/config.js`
  - Что добавим: [описание]

### Новые файлы (если нужны)
- [Путь к файлу]: [назначение]

## Компоненты и функции

### Frontend компоненты

#### Функция 1: `functionName(param1, param2)`

**Назначение**: [Что делает]

**Параметры**:
- `param1` (тип): описание
- `param2` (тип): описание

**Возвращает**: [Что возвращает]

**Логика**:
1. [Шаг 1]
2. [Шаг 2]
3. [Шаг 3]

**Пример использования**:
```javascript
const result = await functionName('value1', 'value2');
if (result.success) {
  // ...
}
```

**Обработка ошибок**:
- [Какие ошибки может выбросить]
- [Как обрабатываются]


#### Функция 2: `anotherFunction()`

[Аналогично первой функции]


### Backend компоненты (Make.com) 

- коротко пишем какие будут изменения
- [описание]

## Потоки данных

### Основной поток (Happy Path)

1. Пользователь [действие]
   ↓
2. Frontend: функция X()
   - валидация входных данных
   - подготовка payload
   ↓
3. API запрос к Make.com
   ↓
4. Make.com: обработка
   ↓
5. Ответ Make.com
   ↓
6. Frontend: обработка ответа
   - обновление UI
   - показ уведомления
   ↓
7. Результат для пользователя

## Изменения UI

### Новые элементы интерфейса

**Экран/Компонент 1**:
```html
<!-- Структура HTML -->
<div class="new-component glass-card">
  <h3 class="component-title">Заголовок</h3>
  <div class="component-content">
    <!-- контент -->
  </div>
</div>
```

**CSS классы**:
```css
.new-component {
  /* Стили */
}

.component-title {
  /* Стили */
}
```

### Изменения в существующих экранах

**Экран Services**:
- [Что добавляем/меняем]

**Экран Booking**:
- [Что добавляем/меняем]

---

## ⚡ Производительность

### Оптимизации

**API вызовы**:

- [Описание 1]
- [Описание 2]
- [Описание 3]

**Рендеринг**:

- [Описание 1]
- [Описание 2]
- [Описание 3]

**Памяти**:

- [Описание 1]
- [Описание 2] 

### Целевые метрики

- Время загрузки: < [X] секунд
- Время отклика UI: < [Y] мс
- Количество API вызовов: не более [Z]

---

## Безопасность

**Frontend**:

- [Какие поля валидируем]
- [Какие правила валидации]

**Backend (Make.com)**:

- [Какие проверки делаем]
- [Какие данные санитизируем]

### Чувствительные данные

- [Какие данные не передаём в URL]
- [Какие данные не логируем]

## Тестирование

### Что нужно протестировать

**Функциональное тестирование**:

- [ ] Happy path работает
- [ ] Edge case 1: [описание]

**Нефункциональное тестирование**:

- [ ] Производительность (нет зависаний)
- [ ] MainButton работает корректно

### Тест-кейсы

**TC-1: [Название]

  1. [Шаг 1]
  2. [Шаг 2]
- 3. результат: [Описание]


## ⚠️ Риски и митигация

### Технические риски

**Риск 1: [Описание]**
- **Вероятность**: Высокая / Средняя / Низкая
- **Влияние**: Критическое / Высокое / Среднее / Низкое
- **Митигация**: [Как снижаем]
- **План Б**: [Запасной вариант]


## Интеграции

### Make.com

-какие измененения произойдут

1.[описание]
2.[описание]


### Google Sheets

1.[описание]
2.[описание]

## Решения и компромиссы

### Архитектурные решения

**Решение 1: [Название]**
- **Проблема**: [Что решаем]
- **Рассмотренные варианты**:
  - Вариант А: [плюсы/минусы]
  - Вариант Б: [плюсы/минусы]
- **Выбранное решение**: [Какой вариант выбрали]
- **Обоснование**: [Почему]


## План миграции (если нужно)

### Миграция данных

[Если нужно изменить существующие данные]

### Обратная совместимость

[Как обеспечиваем, если нужно]

### Откат (Rollback)

[Как откатываемся если что-то пошло не так]

## Документация

### Что нужно обновить после реализации

- [ ] `README.md` - [что добавить]
- [ ] Комментарии в коде - [где добавить JSDoc]
- [ ] `CHANGELOG.md` - [описание изменений]

##  Чек-лист готовности плана

Перед переходом к созданию tasklist убедись:

- [ ] Описана архитектура решения
- [ ] Расписаны потоки данных (happy path и ошибки)
- [ ] Учтены NFR (производительность, безопасность)
- [ ] Описаны все интеграции с внешними системами
- [ ] Выявлены риски и описана митигация
- [ ] Все архитектурные решения задокументированы
- [ ] Статус изменён на `PLAN_APPROVED`

**Только после этого можно переходить к декомпозиции на задачи!**
